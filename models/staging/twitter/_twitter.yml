version: 2

models:
  - name: stg_tweets
    description: staged selected `raw_tweets` data and 1-degree cleanups
    columns:
      - name: tweet_id
        description: This is a unique identifier for a tweet
        tests:
          - unique
          - not_null
      - name: author_id
        description: The foreign key of a twitter user
        tests:
          - not_null
      - name: source_name
        description:  the name of the app where the tweet was send from 
      - name: language_name
        description: >-
          The language the tweet was edited in.
          We filter out all languages except: en, it, es, de, fr
        tests:
          - accepted_values:
              values: ['English', 'Italian', 'Spanish', 'German', 'French']
      - name: tweet_text
        description: The content of the tweet
      - name: created_at
        description: timestamp of creation in `UTC`

  - name: stg_tweet_metrics
    description: staged metrics data from `raw_tweet_metrics` which appends new data daily.
    columns:
      - name: tweet_id
        description: the foreign key of a tweet
        tests:
          - not_null
          - unique
      - name: likes
        description: the number of likes generated to date
      - name: retweets
        description: the number of retweets generated to date
      - name: replies
        description: the number of replies generated to date
      - name: quotes
        description: the number of quotes generated to date
      - name: total_engagements
        description: the sum of all engagements 
      - name: updated_at
        description: the Loading timestamp of a record
